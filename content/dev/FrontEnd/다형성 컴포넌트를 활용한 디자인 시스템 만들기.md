---
title: ë‹¤í˜•ì„± ì»´í¬ë„ŒíŠ¸ë¥¼ í™œìš©í•œ ë””ìì¸ ì‹œìŠ¤í…œ ë§Œë“¤ê¸°
description: Polymorphic Componentì™€ Render Delegationì„ í†µí•´ ë§Œë“œëŠ” ë””ìì¸ ì‹œìŠ¤í…œ
image:
date: 2024-03-02T14:10:00
tags:
  - React
  - í”„ë¡ íŠ¸
  - ì—°êµ¬ì†Œ
slug: Building-a-Design-System-with-Polymorphic-Components
---

ìµœê·¼ì— ë°˜ë³µì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸, ë¦¬ì•¡íŠ¸ í›…, ìœ í‹¸ì„ ëª¨ì•„ë†“ê¸° ìœ„í•œ ëª¨ë…¸ë ˆí¬ë¥¼ ë§Œë“¤ê³  ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë‚˜ë§Œì˜Â [slash](https://slash.page/ko/)Â ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë§Œë“¤ì–´ë³´ìëŠ” ê³„íšì„ ì„¸ì› ëŠ”ë°ìš”. ë””ìì¸ ì‹œìŠ¤í…œì„ ì„¤ê³„í•˜ë©´ì„œ ì•Œê²Œ ëœ ë‚´ìš©ì„ í¬ìŠ¤íŒ…í•˜ê³ ì í•©ë‹ˆë‹¤.

ë¨¼ì € ë””ìì¸ ì‹œìŠ¤í…œì´ ë¬´ì—‡ì¼ê¹Œìš”?

> [!NOTE] ë””ìì¸ ì‹œìŠ¤í…œ
> ë””ìì¸ ì›ì¹™ê³¼ ê·œê²©, ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UIíŒ¨í„´ê³¼ ì»´í¬ë„ŒíŠ¸, ì½”ë“œë¥¼ í¬ê´„í•˜ëŠ” ì‹œìŠ¤í…œ

ë””ìì¸ ì‹œìŠ¤í…œì€ ì¼ê´€ëœ ì›ì¹™ê³¼, ì¬ì‚¬ìš© ê°€ëŠ¥í•œ íŒ¨í„´ì„ í†µí•´ ë””ìì¸ ê°œë°œ ì‘ì—…ì˜ ì‹ ì†í™”, íŒ€ ë‚´ë¶€ì˜ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ë¦¬ì†ŒìŠ¤ ê°ì†Œ, ì œí’ˆ ê°„ ì‹œê°ì  ì¼ê´€ì„±ì„ ì œê³µí•©ë‹ˆë‹¤.

ë””ìì¸ ì‹œìŠ¤í…œì„ êµ¬í˜„í•˜ë©´ì„œ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI íŒ¨í„´ê³¼ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“œëŠ” ë°©ë²• ì¤‘ í•œ ê°€ì§€ë¥¼ ì†Œê°œí•˜ê³ ì í•©ë‹ˆë‹¤.

_ì†Œê°œí•˜ëŠ” ê³¼ì •ì—ì„œ ìŠ¤íƒ€ì¼ê³¼ ê´€ë ¨ëœ ë¶€ê°€ì ì¸ ì½”ë“œëŠ” ì œì™¸í•˜ê³  ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤._

## í•´ê²°í•˜ê³  ì‹¶ì€ ë¬¸ì œ

ì»´í¬ë„ŒíŠ¸ ì„¤ê³„ ì „ì— ì•„ì£¼ ê°„ë‹¨í•œ ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸ë¥¼ ì˜ˆì‹œë¡œ ë“¤ê³ ì í•©ë‹ˆë‹¤.

![](https://i.imgur.com/GSNrTmq.png)

ì§€ê¸ˆ ë³´ì´ëŠ” UIëŠ” ì•„ì£¼ ê°„ë‹¨í•œ ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸ ì…ë‹ˆë‹¤.

```tsx
export const Button = ({ ...props }: ButtonProps) => {
  return <button {...props} />;
};

const App = () => {
  return (
    <div>
      <Button onClick={() => alert("í´ë¦­!")}>ë²„íŠ¼</Button>
    </div>
  );
};
```

í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ëŠ” Propsë¡œ ë„˜ê¸°ëŠ” ê°’ì„ button íƒœê·¸ì˜ ì†ì„±ìœ¼ë¡œ ì „ë¶€ ë„˜ê²¨ì£¼ê¸° ë•Œë¬¸ì— í™•ì¥ì„± ìˆëŠ” ì»´í¬ë„ŒíŠ¸ë¼ê³  ìƒê°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì—¬ê¸°ì„œ ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤.

ë§Œì•½ í•´ë‹¹ ë²„íŠ¼ UIë¥¼ ì‚¬ìš©í•˜ë©´ì„œ í´ë¦­ ì‹œ ë‹¤ë¥¸ ë§í¬ë¡œ ì´ë™í•˜ê³  ì‹¶ë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œìš”?

```tsx
export const LinkButton = ({ ...props }: LinkButtonProps) => {
  return <a {...props} />;
};

const App = () => {
  return (
    <div>
      <LinkButton href="link">ë²„íŠ¼</LinkButton>
    </div>
  );
};
```

ì•„ë§ˆ ê³¼ê±°ì˜ ì €ë¼ë©´ ì´ëŸ° ì‹ìœ¼ë¡œ a íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ ì´ëŸ¬í•œ ë°©ì‹ì€ ì—¬ëŸ¬ ê°€ì§€ ë¬¸ì œì ì´ ì¡´ì¬í•©ë‹ˆë‹¤.

- n ê°€ì§€ì˜ ê²½ìš°ì— ëŒ€í•´ n ê°€ì§€ì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.
- ë‚´ë¶€ ì»´í¬ë„ŒíŠ¸ê°€ í™•ì¥ì— ìœ ì—°í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
- ì„œë“œ íŒŒí‹° ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì œê³µí•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ìœ„í•´ ìƒˆë¡œìš´ Button ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ê²Œ ëœë‹¤ë©´ ì½”ë“œê°€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì˜ì¡´í•˜ê²Œ ë©ë‹ˆë‹¤. (react-router, Next.js)

ì´ë¥¼ ìœ„í•´ì„œ styled-component, MUI, Mantine, Radixì™€ ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì€ ê°•ë ¥í•œ ë¦¬ì•¡íŠ¸ì˜ í•©ì„±ì„ í™œìš©í•´ ìœ„ì™€ ê°™ì€ ë¬¸ì œë¥¼ í•´ê²°í•˜ê³  ìˆìŠµë‹ˆë‹¤.

## Polymorphic Component

ì œê°€ ì°¸ê³ í•œ ë¸”ë¡œê·¸ì—ì„œëŠ” Polymorphic í•œ UI ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ëª…í•˜ê³  ìˆìŠµë‹ˆë‹¤.

- ë‹¤ì–‘í•œ Semanticì„ í‘œí˜„í•  ìˆ˜ ìˆëŠ” UI ì»´í¬ë„ŒíŠ¸
- ë‹¤ì–‘í•œ ì†ì„±ì„ ê°€ì§ˆ ìˆ˜ ìˆëŠ” UI ì»´í¬ë„ŒíŠ¸
- ë‹¤ì–‘í•œ ìŠ¤íƒ€ì¼ì„ ê°€ì§ˆ ìˆ˜ ìˆëŠ” UI ì»´í¬ë„ŒíŠ¸

ì¦‰ Polymorphic ì»´í¬ë„ŒíŠ¸ëŠ” ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ Elementë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì‚¬ìš©ì²˜ì—ì„œ ì§ì ‘ Elementë¥¼ ì£¼ì…ë°›ì•„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ìƒí™©ì— ë§ëŠ” Semantic íƒœê·¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê³ , a íƒœê·¸ì²˜ëŸ¼ íŠ¹ìˆ˜í•œ ìš©ë„ë¡œ ì‚¬ìš©ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### êµ¬í˜„ëœ Polymorphic Component

```tsx
const App = () => {
  return (
    <div>
      <Button onClick={() => alert("í´ë¦­!")}>ë²„íŠ¼</Button>

      <Button as="a" href="<https://ateals.vercel.app/>">
        ë§í¬
      </Button>
    </div>
  );
};
```

![](https://i.imgur.com/Vti4Kpg.png)

![](https://i.imgur.com/SOTuZ7N.png)

ì²« ë²ˆì§¸ ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸ëŠ” ë²„íŠ¼ ìš©ë„ ìì²´ë¡œ ì‚¬ìš©ë˜ê³  ìˆê³  ë‘ ë²ˆì§¸ ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸ëŠ” ì‚¬ìš©ì²˜ì—ì„œ as propì„ í†µí•´ a íƒœê·¸ë¥¼ ì£¼ì…ë°›ì•„ a íƒœê·¸ë¡œ ì‚¬ìš©ë˜ê³  ìˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ë•Œ ë‘ ë²„íŠ¼ì˜ UIëŠ” ë™ì¼í•˜ë‹¤ëŠ” ì ì— ì£¼ëª©í•´ ì£¼ì„¸ìš”. ë” ì´ìƒ ê°™ì€ ë””ìì¸ì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ì¬ ì •ì˜í•  í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤. ì‚¬ìš©ì²˜ì—ì„œ ì§ì ‘ í•„ìš”í•œ íƒ€ì…ì˜ ì»´í¬ë„ŒíŠ¸ë‚˜ Elementë¥¼ ì£¼ì…í•´ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë˜í•œ TypeScriptë¥¼ í†µí•´ êµ¬í˜„í•œ Polymorphic ComponentëŠ” IntelliSense ê¸°ëŠ¥ì„ í†µí•œ ìë™ ì™„ì„±ê³¼ íƒ€ì…ì„ í†µí•´ ì˜ëª»ëœ ê°’ì„ ì£¼ì…í•˜ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### êµ¬í˜„

```tsx
export const Button = <T extends React.ElementType = "button">({
  as,
  children,
  ...props
}: PolymorphicComponentProp<T, ButtonProps>) => {
  const Element = as || "button";

  return <Element {...props}>{children}</Element>;
};
```

ì™„ì„±ëœ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. í•µì‹¬ ì½”ë“œëŠ” propsë¡œ ì£¼ì…ë°›ì€ asë¥¼ Element ë³€ìˆ˜ì— í• ë‹¹í•´ ë Œë”ë§ í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

```tsx
export type PolymorphicComponentProps<T extends React.ElementType, Props = {}> = {
  as?: T;
  ref?: React.ComponentPropsWithRef<T>["ref"];
} & Omit<React.ComponentPropsWithoutRef<T>, keyof Props> &
  Props;
```

íƒ€ì…ì€ ë‹¤ìŒê³¼ ê°™ì´ ì„ ì–¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•œ ê°œì”© ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

- as : ì œë„¤ë¦­ì„ í†µí•´ ElementTypeì„ ë°›ì•„ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- Props : ì‚¬ìš©ìê°€ ì •ì˜í•œ ì»´í¬ë„ŒíŠ¸ì˜ Props íƒ€ì…ì„ ë°›ì•„ì™€ íƒ€ì…ìœ¼ë¡œ ì§€ì •í•©ë‹ˆë‹¤.
- React.ComponentPropsWithoutRef : ì»´í¬ë„ŒíŠ¸ì˜ Props íƒ€ì…ì—ì„œ ì‚¬ìš©ìê°€ ì •ì˜í•œ Propsì™€ ì¼ì¹˜í•˜ëŠ” í•­ëª©ì„ ì œì™¸í•œ Propsì„ íƒ€ì…ìœ¼ë¡œ ì§€ì •í•©ë‹ˆë‹¤.
- ref : ë¦¬ì•¡íŠ¸ì˜ ref íƒ€ì…ì„ ë°›ì•„ì˜µë‹ˆë‹¤.

### ëŠë‚€ ì 

Polymorphic Componentë¥¼ í†µí•´ ë§Œë“¤ì–´ì§„ ì»´í¬ë„ŒíŠ¸ëŠ” ì¬ì‚¬ìš©ì„±ì´ ë†’ìŠµë‹ˆë‹¤. ë” ì´ìƒ íŠ¹ì • ê¸°ëŠ¥ì„ ìœ„í•´ í•„ìš”ë¡œ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ì¶”ê°€ì ìœ¼ë¡œ êµ¬í˜„í•  í•„ìš” ì—†ì´ ì‚¬ìš©í•  ë•Œ Polymorphic Componentì— ì£¼ì…í•´ ì£¼ë©´ ë©ë‹ˆë‹¤.

í•˜ì§€ë§Œ TypeScriptì—ì„œ Polymorphic Componentë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•œ ë³µì¡ë„ê°€ ìƒë‹¹íˆ ë†’ì€ í¸ì´ê³ , as ì†ì„±ìœ¼ë¡œ í™•ì¥í•œ ì»´í¬ë„ŒíŠ¸ì— Propsë¥¼ í• ë‹¹í•  ë•Œ, í•´ë‹¹ Propsê°€ ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ì˜ ê²ƒì¸ì§€ ì•Œê¸° í˜ë“¤ë‹¤ëŠ” ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.Â *(í˜„ì¬ ì½”ë“œì—ì„œ Polymorphic Componentì— Polymorphic Componentë¥¼ ì£¼ì…í•˜ë©´ ì œë„¤ë¦­ì— ì˜í•´ íƒ€ì…ì„ ì¶”ë¡ í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.)*

ì´ì— ëŒ€í•œ ëŒ€ì•ˆìœ¼ë¡œ ë“±ì¥í•œ ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤.

## Render Delegation

Render Delegationì„ ì§ì—­í•˜ìë©´ ë Œë” ìœ„ì„ì´ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ìì‹ ì˜ ì†ì„±ê³¼ í–‰ë™ì„ ìì‹ ì»´í¬ë„ŒíŠ¸ì—ê²Œ ë„˜ê¸´ í›„ ìì‹ì´ ì§ì ‘ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ë¥¼ ëŒ€ì‹ í•´ ë Œë”ë§ í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

Render Delegation ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ë³´í†µ asChild ì†ì„±ì„ í†µí•´ í•´ë‹¹ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

Render Delegation ì»´í¬ë„ŒíŠ¸ëŠ” ë³´í†µ Slotê³¼ Slottableì´ë¼ëŠ” ë‘ ì»´í¬ë„ŒíŠ¸ë¥¼ í†µí•´ êµ¬ì„±ë©ë‹ˆë‹¤. Slotì€ ìì‹ ì»´í¬ë„ŒíŠ¸ì—ê²Œ ë Œë”ë§ì„ ìœ„ì„í•˜ê³  Propsë¥¼ ë„˜ê²¨ì£¼ëŠ” ì—­í• ì„ í•˜ê³ , Slottableì€ Slotì— ë“¤ì–´ê°ˆ ìš”ì†Œë¥¼ ê²°ì •í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.

Render Delegation ì»´í¬ë„ŒíŠ¸ëŠ” ê¸°ì¡´ì˜ Polymorphic Componentì™€ í•´ê²°í•˜ë ¤ëŠ” ëª©ì ì€ ê°™ì§€ë§Œ ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ì™€ í•©ì„±ì´ ë  ì»´í¬ë„ŒíŠ¸ë¥¼ ì½”ë“œì—ì„œ ë¶„ë¦¬í•œë‹¤ëŠ” ì°¨ì´ê°€ ìˆìŠµë‹ˆë‹¤.

### êµ¬í˜„ëœ Render Delegation

ì•„ê¹Œì™€ ê°™ì€ ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì§€ê³  ì™”ìŠµë‹ˆë‹¤. ì½”ë“œë¥¼ í•œë²ˆ ë³´ì‹œì£ 

```tsx
const App = () => {
  return (
    <div>
      <Button onClick={() => alert("í´ë¦­!")}>ë²„íŠ¼</Button>

      <Button asChild>
        <a href="<https://ateals.vercel.app/>">ë§í¬</a>
      </Button>
    </div>
  );
};
```

Polymorphic Componentì™€ ìœ ì‚¬í•˜ì§€ë§Œ ë‹¤ë¥¸ ì ì€ Button ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” asChildë¥¼ í†µí•´ ìì‹ì—ê²Œ ë Œë”ë§ì„ ìœ„ì„í•˜ê³  ìˆê³  ì¶”ê°€ì ì¸ ì‚¬í•­ì€ ìì‹ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì„ ì–¸í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹¤ì œë¡œ ë Œë”ë§ ë˜ëŠ” tagê°€ ìì‹ì¸ a íƒœê·¸ì¸ ê²ƒì„ ì£¼ëª©í•´ ì£¼ì„¸ìš”.

### Slot & Slottable

Render Delegation ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì€ ê°„ë‹¨í•©ë‹ˆë‹¤. ì•ì„  Polymorphic Component ì˜ˆì‹œì—ì„œ Slotì„ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.

```tsx
import { Slot } from "@radix-ui/react-slot";

export const Button = ({
  asChild,
  children,
  ...props
}: ButtonProps) => {

  const Element = asChild ?  Slot || "button";

  return <Element {...props}>{children}</Element>;
};

const App = () => {
  return (
    <div>
      <Button asChild>
        <a href="<https://ateals.vercel.app/>">ë§í¬</a>
      </Button>
    </div>
  );
};
```

_([Radix](https://www.radix-ui.com/)ì—ì„œ ì œê³µí•˜ëŠ” Slotì„ ì§ì ‘ ì‚¬ìš©í•˜ë©´ ì¦‰ì‹œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.)_

Slotì„ ì´ìš©í•´ ëª¨ë“  ìš”ì†Œë¥¼ ìœ„ì„í–ˆë‹¤ë©´ Slottableì„ ì‚¬ìš©í•˜ë©´ ì‚¬ìš©ìê°€ ì •ì˜í•œ ì¼ë¶€ë¶„ë§Œ ìœ„ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
import { Slot, Slottable } from "@radix-ui/react-slot";

export const Button = ({ asChild, children, icon, ...props }: ButtonProps) => {
  const Element = asChild ? Slot : "button";

  return (
    <Element {...props}>
      {icon}
      <Slottable>{children}</Slottable>
    </Element>
  );
};

const App = () => {
  return (
    <div>
      <Button asChild icon="ğŸ”´">
        <a href="<https://ateals.vercel.app/>">ë§í¬</a>
      </Button>
    </div>
  );
};
```

Slottable ì»´í¬ë„ŒíŠ¸ëŠ” Slot ì»´í¬ë„ŒíŠ¸ë¡œ ë Œë”ë§ ë  ì»´í¬ë„ŒíŠ¸ì˜ childrenì´ ë“¤ì–´ê°ˆ ê³³ì„ ê²°ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê²°ê³¼ì ìœ¼ë¡œ icon ì†ì„±ì€ Button ì»´í¬ë„ŒíŠ¸ì˜ ì„¤ì •ì„ ë”°ë¥´ì§€ë§Œ ê·¸ ì™¸ ì†ì„±ì€ ìì‹ ì»´í¬ë„ŒíŠ¸ì— ìœ„ì„ë©ë‹ˆë‹¤.

### êµ¬í˜„

Slottable ì»´í¬ë„ŒíŠ¸ëŠ” êµ¬í˜„ì´ ë§¤ìš° ê°„ë‹¨í•©ë‹ˆë‹¤.

```tsx
export const Slottable = ({ children }: SlottableProps) => {
  return <>{children}</>;
};
```

Slottable ì»´í¬ë„ŒíŠ¸ëŠ” ìì‹ ì„ Slottable ì»´í¬ë„ŒíŠ¸ë¼ëŠ” ê²ƒì„ ì•Œë ¤ì£¼ëŠ” ê²ƒ ì´ìƒì˜ ê¸°ëŠ¥ì„ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

Slot ì»´í¬ë„ŒíŠ¸ì˜ êµ¬í˜„ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```tsx
interface SlotProps extends React.HTMLAttributes<HTMLElement> {
  children: React.ReactNode;
}

export const isSlottable = (child: React.ReactNode): child is React.ReactElement<SlottableProps> => {
  return isValidElement(child) && child.type === Slottable;
};

export const Slot = ({ children, ...props }: SlotProps) => {
  const childrenList = Children.toArray(children);
  const SlottableElement = childrenList.find(isSlottable);

  if (!SlottableElement) {
    if (!isValidElement(children)) throw new Error("Slot component should have only one React element as a child");

    return cloneElement(children, {
      ...props,
      ...children.props,
    });
  }

  const newElement = SlottableElement.props.children;

  if (!isValidElement(newElement)) {
    throw new Error("Slot component should have only one React element as a child");
  }

  const newChildren = childrenList.map((child) => (child !== SlottableElement ? child : newElement.props.children));

  return cloneElement(newElement, { ...props, ...newElement.props }, newChildren);
};
```

Slot ì»´í¬ë„ŒíŠ¸ì˜ í•µì‹¬ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```tsx
if (!isValidElement(children)) throw new Error("Slot component should have only one React element as a child");

return cloneElement(children, {
  ...props,
  ...children.props,
});
```

Slot ì»´í¬ë„ŒíŠ¸ëŠ” children ìš”ì†Œë¥¼ validation í•œ ë’¤ childrenì´ JSX ìš”ì†Œë¼ë©´ Slot ì»´í¬ë„ŒíŠ¸ì˜ Propsì™€ childrenì„ í•©ì„±í•˜ì—¬ ìƒˆë¡œìš´ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ì–´ ë Œë”ë§ í•©ë‹ˆë‹¤.

### ëŠë‚€ ì 

Render Delegation ì»´í¬ë„ŒíŠ¸ëŠ” Polymorphic ì»´í¬ë„ŒíŠ¸ì™€ ë¹„êµí–ˆì„ ë•Œ ë”ìš± ì§ê´€ì ìœ¼ë¡œ Propsë¥¼ ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ Polymorphic ì»´í¬ë„ŒíŠ¸ë³´ë‹¤ íƒ€ì… ì„ ì–¸ì— ìˆì–´ì„œ ê°„í¸í•©ë‹ˆë‹¤.

í•˜ì§€ë§Œ Render Delegation ì»´í¬ë„ŒíŠ¸ëŠ” êµ¬í˜„ì— ìˆì–´ì„œ Polymorphic ì»´í¬ë„ŒíŠ¸ë³´ë‹¤ ì–´ë µê³  JSX êµ¬ë¬¸ì´ ê¸¸ì–´ì§ˆ ìˆ˜ ìˆìœ¼ë©° JSXë¥¼ ë³´ê³  ì´í›„ ë Œë”ë§ ë  ë”ì„ ì§ê´€ì ìœ¼ë¡œ ì´í•´í•˜ì§€ ëª»í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ê·¸ë˜ì„œ?

ì €ëŠ” ë‘ ê°€ì§€ ê°•ë ¥í•œ í•©ì„± íŒ¨í„´ì„ êµ¬í˜„í•´ ë³´ë©´ì„œ ì €ì˜ ë””ìì¸ ì‹œìŠ¤í…œì— ë‘ ê°€ì§€ë¥¼ ë™ì‹œì— ì ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.

```tsx
import { Slot, Slottable } from "@radix-ui/react-slot";

export const Button = ({ as, asChild, children, ...props }: ButtonProps) => {
  const Element = asChild ? Slot : as || "button";

  return <Element {...props}>{children}</Element>;
};
```

asChildì´ ture ë©´ Render Delegationì„ ì‚¬ìš©í•´ ìì‹ ìš”ì†Œë¥¼ ë Œë”ë§í•˜ê³  asChildì´ falseë©´ì„œ asì— tagê°€ ì£¼ì…ë˜ë©´ tagë¥¼ ë Œë”ë§ í•©ë‹ˆë‹¤.

ì´ë¥¼ í†µí•´ ê°„ë‹¨í•œ HTML Tagë¥¼ ì£¼ì…í•˜ê±°ë‚˜ ë‹¨ìˆœí•œ ì»´í¬ë„ŒíŠ¸ë¥¼ ì£¼ì…í•  ë•ŒëŠ” Polymorphicì„ ì´ìš©í•˜ê³ , ë‹¤í˜•ì„± ì»´í¬ë„ŒíŠ¸ì˜ ì¤‘ì²©ì„ ì‚¬ìš©í•´ì•¼ í•˜ê±°ë‚˜ ë³µì¡í•œ Propsë¥¼ ì „ë‹¬í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” Render Delegationë¥¼ ì‚¬ìš©í•  ê³„íšì…ë‹ˆë‹¤.

```tsx
const App = () => {
  return (
    <div>
      <Button as="a" href="<https://ateals.vercel.app/>">
        ë§í¬
      </Button>

      <Flex style={{ gap: 5 }} asChild>
        <Box as="section">
          <Button>ë²„íŠ¼</Button>
          <Button>ë²„íŠ¼</Button>
        </Box>
      </Flex>
    </div>
  );
};
```

ë‘ ê°€ì§€ íŒ¨í„´ì„ í†µí•´ ì €ì˜ ë””ìì¸ ì‹œìŠ¤í…œ ì»´í¬ë„ŒíŠ¸ë“¤ì€ ë” ì´ìƒ ì¶”ê°€ì ì¸ ê¸°ëŠ¥ì„ ìœ„í•´ ì„œë“œ íŒŒí‹° ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì˜ì¡´í•˜ì§€ ì•Šê³  ì‚¬ìš©ì²˜ì—ì„œ ì£¼ì…í•˜ëŠ” ë°©ë²•ì„ í†µí•´ ì¬ ì‚¬ìš©ì„± ë†’ì€ ì»´í¬ë„ŒíŠ¸ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤.

ì•„ì§ì€ ì¶©ë¶„íˆ ì‚¬ìš©í•´ ë³´ì§€ ëª»í–ˆê¸° ë•Œë¬¸ì— ì´í›„ ë¦¬íŒ©í„°ë§ì´ í•„ìš”í•˜ê² ì§€ë§Œ ì¶©ë¶„íˆ ë§Œì¡±ìŠ¤ëŸ¬ìš´ ì½”ë“œê°€ ëœ ê²ƒ ê°™ìŠµë‹ˆë‹¤. êµ¬í˜„í•œ ë””ìì¸ ì‹œìŠ¤í…œ ì»´í¬ë„ŒíŠ¸ë“¤ì€Â [ë ˆí¬ì§€í† ë¦¬ì—ì„œ](https://github.com/ATeals/frontend-monorepo/tree/main/packages/react-design-system)Â í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ì°¸ê³ ìë£Œ

[Polymorphicí•œ React ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°](https://kciter.so/posts/polymorphic-react-component#fn-1)

[Render Delegationí•˜ëŠ” React ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°](https://kciter.so/posts/render-delegation-react-component)
